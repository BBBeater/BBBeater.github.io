<!DOCTYPE html>  
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy Anniversary - ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏¢‡∏Å + ‡πÄ‡∏Å‡∏°</title>
<link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet" />
<style>
  /* --- ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö (‡πÄ‡∏õ‡πä‡∏∞ ‡πÜ) --- */
  body {
    font-family: 'Itim', cursive;
    background: linear-gradient(135deg, #ffd6e8, #fff0f5);
    color: #5e2b45;
    margin: 0; padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  .container {
    width: 95vw;
    max-width: 600px;
    background: white;
    border-radius: 25px;
    box-shadow: 0 0 25px #ffb6c1;
    padding: 35px 25px 40px;
    text-align: center;
    box-sizing: border-box;
    position: relative;
  }
  h1, h2 {
    color: #d43f6f;
    margin-bottom: 15px;
  }
  p {
    font-size: 1.2rem;
    margin-bottom: 30px;
    line-height: 1.4;
  }
  input[type="password"], input[type="number"] {
    font-family: 'Itim', cursive;
    font-size: 20px;
    padding: 10px 14px;
    width: 130px;
    border: 2px solid #ffb6c1;
    border-radius: 12px;
    text-align: center;
    margin-bottom: 15px;
  }
  button {
    background-color: #f48fb1;
    border: none;
    color: white;
    font-size: 18px;
    padding: 12px 28px;
    border-radius: 20px;
    cursor: pointer;
    margin: 0 10px;
    transition: background-color 0.3s ease;
    box-shadow: 0 4px 10px rgba(244,143,177,0.5);
  }
  button:hover {
    background-color: #d43f6f;
  }
  .buttons {
    display: flex;
    justify-content: center;
    margin-top: 25px;
    gap: 15px;
  }
  .hidden {
    display: none;
  }
  .photo-placeholder {
    width: 100%;
    max-width: 420px;
    height: 320px;
    background: #fff0f8;
    border: 3px dashed #ff8ab8;
    border-radius: 25px;
    margin: 0 auto 40px;
    box-shadow: 0 0 15px #ffb6c1;
    line-height: 320px;
    color: #ff8ab8;
    font-size: 1.3rem;
  }
  #error {
    color: #d43f6f;
    font-weight: bold;
    margin-top: 8px;
  }
  /* Menu grid */
  .menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(140px,1fr));
    gap: 20px;
    justify-items: center;
  }
  .menu-card {
    background: #fff0f8;
    border-radius: 20px;
    box-shadow: 0 0 12px #ffb6c1;
    cursor: pointer;
    padding: 15px;
    width: 140px;
    transition: transform 0.3s ease;
    user-select: none;
  }
  .menu-card.locked {
    cursor: default;
    opacity: 0.5;
  }
  .menu-card:hover:not(.locked) {
    transform: scale(1.07);
    box-shadow: 0 0 20px #d43f6f;
  }
  .menu-card img {
    width: 80px;
    height: 80px;
    border-radius: 15px;
    margin-bottom: 10px;
    object-fit: cover;
    user-select: none;
  }
  .menu-card .title {
    font-weight: bold;
    color: #d43f6f;
  }
  #gameMessage, #puzzleMessage {
    font-weight: bold;
    color: #d43f6f;
    min-height: 28px;
    margin-top: 15px;
    transition: color 0.3s ease;
  }
  /* Game input */
  #guessInput {
    max-width: 130px;
    margin-bottom: 10px;
  }
  /* Back to game menu button */
  .back-game-menu-btn {
    background: #f8bbd0;
    color: #a6265a;
    border-radius: 25px;
    border: none;
    padding: 8px 22px;
    cursor: pointer;
    font-weight: bold;
    margin-bottom: 15px;
    box-shadow: 0 3px 8px rgba(248,187,208,0.6);
    transition: background-color 0.3s ease;
  }
  .back-game-menu-btn:hover {
    background: #d43f6f;
    color: white;
  }
  /* Puzzle styles */
  #puzzle {
    width: 100%;
    max-width: 420px;
    height: 420px;
    margin: 0 auto 20px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 6px;
    user-select: none;
  }
  .piece {
    background-color: #fff0f8;
    border: 2px solid #ff8ab8;
    border-radius: 18px;
    box-shadow: 0 0 8px #ffb6c1;
    cursor: grab;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5rem;
    color: #d43f6f;
    font-weight: bold;
    position: relative;
    overflow: hidden;
  }
  .piece.dragging {
    opacity: 0.7;
    cursor: grabbing;
  }
  .piece img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 18px;
    pointer-events: none;
    user-select: none;
  }
  /* Responsive */
  @media (max-width: 480px) {
    .container {
      padding: 25px 15px 30px;
    }
    .photo-placeholder {
      height: 280px;
    }
    #puzzle {
      height: 300px;
      max-width: 300px;
      gap: 4px;
    }
    .menu-card {
      width: 120px;
    }
    .menu-card img {
      width: 70px;
      height: 70px;
    }
    input[type="password"], input[type="number"] {
      width: 100px;
      font-size: 18px;
      padding: 8px 12px;
    }
  }
  
  /* Lightbox overlay */
  #lightboxOverlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(95, 35, 70, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  #lightboxOverlay img {
    max-width: 90vw;
    max-height: 90vh;
    border-radius: 20px;
    box-shadow: 0 0 25px #ffb6c1;
    cursor: zoom-out;
    user-select: none;
  }

  /* --- ‡∏™‡πÑ‡∏•‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå‡∏´‡∏ô‡πâ‡∏≤ page1 --- */
  #slideShow {
    position: relative;
    width: 100%;
    max-width: 420px;
    height: 320px;
    margin: 0 auto 20px;
    border-radius: 25px;
    overflow: hidden;
    box-shadow: 0 0 15px #ffb6c1;
  }
  #slideShow img {
    width: 100%;
    height: 320px;
    object-fit: cover;
    position: absolute;
    top: 0; left: 0;
    opacity: 0;
    transition: opacity 0.6s ease;
    border-radius: 25px;
    user-select: none;
  }
  #slideShow img.active {
    opacity: 1;
    position: relative;
  }
  /* ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏®‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå */
  .slide-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(244,143,177,0.9);
    border: none;
    color: white;
    font-size: 36px;
    padding: 8px 16px;
    border-radius: 50%;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
    z-index: 10;
  }
  .slide-btn:hover {
    background: #d43f6f;
  }
  #prevBtn {
    left: 10px;
  }
  #nextBtn {
    right: 10px;
  }

  /* --- progress bar & counter for slideshow --- */
  #slideCounter {
    margin: 0 auto 10px;
    font-weight: bold;
    color: #d43f6f;
  }
  #progressBar {
    width: 100%;
    max-width: 420px;
    height: 6px;
    background: #ffe4ef;
    border-radius: 6px;
    margin: 0 auto 30px;
    overflow: hidden;
  }
  #progressBarInner {
    height: 100%;
    width: 0%;
    background: #d43f6f;
    border-radius: 6px;
    transition: width 0.4s ease;
  }

  /* --- Animation ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö shake (‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏û‡πâ‡πÄ‡∏Å‡∏°) --- */
  @keyframes shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-8px); }
    40% { transform: translateX(8px); }
    60% { transform: translateX(-6px); }
    80% { transform: translateX(6px); }
    100% { transform: translateX(0); }
  }
  .shake {
    animation: shake 0.4s ease;
  }

  /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏û‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏î‡∏á‡∏™‡∏•‡∏±‡∏ö */
  @keyframes flashRed {
    0%, 100% { color: #d43f6f; }
    50% { color: #ff4d6d; }
  }
  .flashRed {
    animation: flashRed 0.6s ease;
  }
 /* --- Lightbox overlay --- */
    #lightboxOverlay { ... }
    #lightboxOverlay img { ... }

 /* --- CSS ‡∏´‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡πà --- */
  .card {
    transition: transform 0.6s ease;
    transform-style: preserve-3d;
    perspective: 800px;
  }

  .card.flip {
    transform: rotateY(180deg);
  }
</style>
</head>
<body>
<div class="container">

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 0: ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ -->
  <div id="page0">
    <h1>üå∏ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö üå∏</h1>
    <p>‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ üíñ</p>
    <input type="password" id="password" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏£‡∏±‡∏Å..." />
    <br />
    <button onclick="checkPassword()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</button>
    <p id="error"></p>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 1: ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö (‡∏™‡πÑ‡∏•‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå‡∏£‡∏π‡∏õ) -->
  <div id="page1" class="hidden">
    <h1>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ô‡∏∞‡∏∞ üíï</h1>
    <div id="slideShow">
      <img src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?auto=format&fit=crop&w=600&q=80" alt="‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°" class="active" />
      <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80" alt="‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå" />
      <img src="https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=600&q=80" alt="‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°" />
      <img src="https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=600&q=80" alt="‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô" />
    </div>
    <div id="slideCounter">‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 1 / 4</div>
    <div id="progressBar"><div id="progressBarInner"></div></div>
    <button id="prevBtn" class="slide-btn" aria-label="Previous Slide">&#10094;</button>
    <button id="nextBtn" class="slide-btn" aria-label="Next Slide">&#10095;</button>
    <div class="buttons">
      <button onclick="showPage('page0')">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
      <button onclick="showPage('page2')">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 2: ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î -->
  <div id="page2" class="hidden">
    <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏î‡∏π üíå</h2>
    <div class="menu-grid" id="categoryMenu">
      <div class="menu-card locked" data-category="best">
        <img src="https://via.placeholder.com/80/f7b6cc/fff?text=Best" alt="Best of Month" />
        <div class="title">The Best ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
        <small>üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô</small>
      </div>
      <div class="menu-card locked" data-category="funny">
        <img src="https://via.placeholder.com/80/f7b6cc/fff?text=Funny" alt="Funny" />
        <div class="title">‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏Æ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</div>
        <small>üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô</small>
      </div>
      <div class="menu-card locked" data-category="secret">
        <img src="https://via.placeholder.com/80/f7b6cc/fff?text=Secret" alt="Secret" />
        <div class="title">‡∏£‡∏π‡∏õ‡πÅ‡∏≠‡∏ö‡∏ñ‡πà‡∏≤‡∏¢</div>
        <small>üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô</small>
      </div>
      <div class="menu-card locked" data-category="love">
        <img src="https://via.placeholder.com/80/f7b6cc/fff?text=Love" alt="Love" />
        <div class="title">‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà</div>
        <small>üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô</small>
      </div>
    </div>
    <div class="buttons">
      <button onclick="showPage('page1')">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
      <button onclick="showPage('page7')">‡πÑ‡∏õ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ üîì</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 3: The Best ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô) -->
  <div id="page3" class="hidden">
    <h2>The Best ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h2>
    <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏î‡∏∑‡∏≠‡∏ô üíñ</p>
    <div class="menu-grid" id="bestGrid"></div>
    <div class="buttons">
      <button onclick="showPage('page2')">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 4: ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏Æ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î -->
  <div id="page4" class="hidden">
    <h2>‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏Æ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ üòÇ</h2>
    <div class="menu-grid" id="funnyGrid"></div>
    <div class="buttons">
      <button onclick="showPage('page2')">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 5: ‡∏£‡∏π‡∏õ‡πÅ‡∏≠‡∏ö‡∏ñ‡πà‡∏≤‡∏¢ -->
  <div id="page5" class="hidden">
    <h2>‡∏£‡∏π‡∏õ‡πÅ‡∏≠‡∏ö‡∏ñ‡πà‡∏≤‡∏¢ üì∏</h2>
    <div class="menu-grid" id="secretGrid"></div>
    <div class="buttons">
      <button onclick="showPage('page2')">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 6: ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà -->
  <div id="page6" class="hidden">
    <h2>‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà üíû</h2>
    <div class="menu-grid" id="loveGrid"></div>
    <div class="buttons">
      <button onclick="showPage('page2')">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ 7: ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ -->
  <div id="page7" class="hidden">
    <h2>üéÆ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î! üéÆ</h2>
    <div class="menu-grid" id="gameMenuGrid">
      <div class="menu-card" data-game="guessNumber">
        <div class="title">‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç üé≤</div>
      </div>
      <div class="menu-card" data-game="cardShuffle">
        <div class="title">‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à üÉè</div>
      </div>
      <div class="menu-card" data-game="gachaPull">
        <div class="title">‡∏Å‡∏≤‡∏ä‡∏≤‡∏î‡∏≤‡∏ß 5 ‚≠ê</div>
      </div>
      <div class="menu-card" data-game="shootHearts">
        <div class="title">‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á üíò</div>
      </div>
    </div>
    <div class="buttons">
      <button onclick="showPage('page2')">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 1: ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç -->
  <div id="gameGuessNumber" class="hidden">
    <h2>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç (1-10)</h2>
    <p>‡∏•‡∏≠‡∏á‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏Ñ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏¥! üé≤</p>
    <input type="number" id="guessInput" min="1" max="10" />
    <div id="gameMessage"></div>
    <div class="buttons">
      <button onclick="checkGuess()">‡∏ó‡∏≤‡∏¢!</button>
      <button onclick="backToGameMenu('gameGuessNumber')">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 2: ‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à -->
  <div id="gameCardShuffle" class="hidden">
    <h2>‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à üÉè</h2>
    <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏û‡πà‡∏´‡∏≤‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏ô 3 ‡πÉ‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏à‡∏≠! ‚ô•Ô∏è</p>
    <div id="cardContainer" style="display:flex; justify-content:center; gap:20px; margin: 25px 0;">
      <div class="card" style="width:90px; height:120px; background:#ffe1e9; border-radius:16px; cursor:pointer; box-shadow: 0 0 15px #ffb6c1;" onclick="pickCard(0)">?</div>
      <div class="card" style="width:90px; height:120px; background:#ffe1e9; border-radius:16px; cursor:pointer; box-shadow: 0 0 15px #ffb6c1;" onclick="pickCard(1)">?</div>
      <div class="card" style="width:90px; height:120px; background:#ffe1e9; border-radius:16px; cursor:pointer; box-shadow: 0 0 15px #ffb6c1;" onclick="pickCard(2)">?</div>
    </div>
    <div id="puzzleMessage"></div>
    <div class="buttons">
      <button onclick="resetCardGame()">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
      <button onclick="backToGameMenu('gameCardShuffle')">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 3: ‡πÄ‡∏Å‡∏°‡∏Å‡∏≤‡∏ä‡∏≤ (‡∏™‡∏∏‡πà‡∏°) -->
<div id="gachaGame">
  <button onclick="startGacha()">‡∏Å‡∏î‡∏™‡∏∏‡πà‡∏° üé∞</button>
  <div id="gachaResult"></div>
</div>

  
<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 4: ‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á ‡πÅ‡∏ö‡∏ö‡∏•‡∏≤‡∏Å‡∏¢‡∏¥‡∏á -->
<div id="gameShootHearts" class="hidden">
  <h2>‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á üíò</h2>
  <p>‡∏•‡∏≤‡∏Å‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏á‡πÄ‡∏õ‡πä‡∏∞ ‡πÜ! ‡∏¢‡∏¥‡∏á‡∏Ñ‡∏£‡∏ö 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ</p>
  <div style="position: relative; margin: 30px auto; width: 320px; height: 280px; background: #ffe4ef; border-radius: 25px; box-shadow: 0 0 15px #ffb6c1;">
    <div id="hoop" style="position: absolute; width: 100px; height: 20px; background: #ff69b4; border-radius: 10px; top: 80px; left: 50%; transform: translateX(-50%);"></div>
    <div id="heart" style="position: absolute; width: 40px; height: 40px; background: red; top: 220px; left: 50%; transform: translateX(-50%); border-radius: 50%; box-shadow: 0 0 10px #ff8ab8; cursor: grab;"></div>
  </div>
  <p id="shootMessage" style="margin-top: 18px; font-weight: bold; color: #d43f6f; min-height: 28px;"></p>
  <div class="buttons">
    <button onclick="resetShootGame()">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
    <button onclick="backToGameMenu('gameShootHearts')">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
  </div>
</div>

  <!-- Lightbox ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏¢‡∏≤‡∏¢‡∏†‡∏≤‡∏û -->
  <div id="lightboxOverlay">
    <img id="lightboxImage" src="" alt="‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏π‡∏õ" />
  </div>

</div>
  <div id="cardContainer" style="display: none;">
   <div class="card" onclick="pickCard(0)">?</div>
   <div class="card" onclick="pickCard(1)">?</div>
   <div class="card" onclick="pickCard(2)">?</div>
</div>



<script>
  // --- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ---
  const PASSWORD = "0000";

  // ‡∏£‡∏π‡∏õ‡∏™‡πÑ‡∏•‡∏î‡πå‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö
  const slides = [
    { src: "https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?auto=format&fit=crop&w=600&q=80", alt: "‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°" },
    { src: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", alt: "‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå" },
    { src: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=600&q=80", alt: "‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°" },
    { src: "https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=600&q=80", alt: "‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô" },
  ];

  // ‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏ß‡∏î‡∏ï‡πà‡∏≤‡∏á ‡πÜ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
  const photos = {
    best: [
      "https://images.unsplash.com/photo-1517816743773-6e0fd518b4a6?auto=format&fit=crop&w=400&q=80",
      "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=400&q=80",
      "https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400&q=80",
    ],
    funny: [
      "https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=crop&w=400&q=80",
      "https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=crop&w=400&q=80",
    ],
    secret: [
      "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=400&q=80",
    ],
    love: [
      "https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400&q=80",
    ],
  };

  // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î
  const lockedCategories = {
    best: true,
    funny: true,
    secret: true,
    love: true,
  };

  // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ---
  function showPage(id) {
    // ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤
    document.querySelectorAll(".container > div").forEach(div => {
      div.classList.add("hidden");
    });
    // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
    const el = document.getElementById(id);
    if (el) el.classList.remove("hidden");

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô slide page1 ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡πÅ‡∏™‡∏î‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå‡πÅ‡∏•‡∏∞ progress bar
    if (id === "page1") {
      updateSlideShow();
    }

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô category page3-6 ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà
    if (id === "page3") loadPhotos("best", "bestGrid");
    if (id === "page4") loadPhotos("funny", "funnyGrid");
    if (id === "page5") loadPhotos("secret", "secretGrid");
    if (id === "page6") loadPhotos("love", "loveGrid");

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π category ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏•‡πá‡∏≠‡∏Ñ
    if (id === "page2") updateCategoryLocks();
  }

  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
  function checkPassword() {
    const pw = document.getElementById("password").value;
    const err = document.getElementById("error");
    if (pw === PASSWORD) {
      showPage("page1");
      err.textContent = "";
    } else {
      err.textContent = "‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞!";
    }
  }

  // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÉ‡∏ô grid
  function loadPhotos(category, containerId) {
    const container = document.getElementById(containerId);
    container.innerHTML = "";
    if (lockedCategories[category]) {
      container.innerHTML = "<p>üîí ‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏•‡πá‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏π‡πà ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞!</p>";
      return;
    }
    photos[category].forEach((url, i) => {
      const img = document.createElement("img");
      img.src = url;
      img.alt = `${category} photo ${i+1}`;
      img.style.borderRadius = "18px";
      img.style.cursor = "pointer";
      img.style.width = "120px";
      img.style.height = "120px";
      img.style.objectFit = "cover";
      img.style.boxShadow = "0 0 15px #ffb6c1";
      img.onclick = () => openLightbox(url);
      container.appendChild(img);
    });
  }

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡πá‡∏≠‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏´‡∏°‡∏ß‡∏î‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π
  function updateCategoryLocks() {
    const cards = document.querySelectorAll("#categoryMenu .menu-card");
    cards.forEach(card => {
      const cat = card.getAttribute("data-category");
      if (!lockedCategories[cat]) {
        card.classList.remove("locked");
        card.querySelector("small").textContent = "üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡πÅ‡∏•‡πâ‡∏ß";
        card.style.opacity = "1";
        card.style.cursor = "pointer";
        card.onclick = () => {
          // ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏±‡πâ‡∏ô
          if (cat === "best") showPage("page3");
          else if (cat === "funny") showPage("page4");
          else if (cat === "secret") showPage("page5");
          else if (cat === "love") showPage("page6");
        };
      } else {
        card.classList.add("locked");
        card.querySelector("small").textContent = "üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô";
        card.style.opacity = "0.5";
        card.style.cursor = "default";
        card.onclick = null;
      }
    });
  }

  // ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πÑ‡∏•‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå‡∏£‡∏π‡∏õ
  let currentSlideIndex = 0;
  const slideImages = document.querySelectorAll("#slideShow img");
  const slideCounter = document.getElementById("slideCounter");
  const progressBarInner = document.getElementById("progressBarInner");

  function updateSlideShow() {
    slideImages.forEach((img, i) => {
      img.classList.toggle("active", i === currentSlideIndex);
    });
    slideCounter.textContent = `‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà ${currentSlideIndex + 1} / ${slideImages.length}`;
    progressBarInner.style.width = `${((currentSlideIndex + 1) / slideImages.length) * 100}%`;
  }
  document.getElementById("prevBtn").onclick = () => {
    currentSlideIndex = (currentSlideIndex - 1 + slideImages.length) % slideImages.length;
    updateSlideShow();
  };
  document.getElementById("nextBtn").onclick = () => {
    currentSlideIndex = (currentSlideIndex + 1) % slideImages.length;
    updateSlideShow();
  };

  // ‡πÄ‡∏õ‡∏¥‡∏î lightbox
  function openLightbox(src) {
    const overlay = document.getElementById("lightboxOverlay");
    const img = document.getElementById("lightboxImage");
    img.src = src;
    overlay.style.display = "flex";
  }
  // ‡∏õ‡∏¥‡∏î lightbox
  document.getElementById("lightboxOverlay").onclick = () => {
    document.getElementById("lightboxOverlay").style.display = "none";
  };

  // --- ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç ---
  let targetNumber = null;

  function startGuessNumberGame() {
    targetNumber = Math.floor(Math.random() * 10) + 1;
    document.getElementById("gameMessage").textContent = "";
    document.getElementById("guessInput").value = "";
  }
  function checkGuess() {
    const input = document.getElementById("guessInput");
    const message = document.getElementById("gameMessage");
    const val = parseInt(input.value);
    if (!val || val < 1 || val > 10) {
      message.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç 1-10 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏∞!";
      return;
    }
    if (val === targetNumber) {
      message.textContent = "üéâ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î The Best ‡πÅ‡∏•‡πâ‡∏ß!";
      unlockCategory("best");
    } else {
      message.textContent = "‡∏ú‡∏¥‡∏î‡∏ô‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!";
      // ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô shake + ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏î‡∏á‡∏™‡∏•‡∏±‡∏ö
      input.classList.add("shake");
      message.classList.add("flashRed");
      setTimeout(() => {
        input.classList.remove("shake");
        message.classList.remove("flashRed");
      }, 700);
    }
  }

  // --- ‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à ---
function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function resetCardGame() {
  startCardGame();
}

let heartIndex = null;
let cardsPicked = false;

function startCardGame() {
  const container = document.getElementById("cardContainer");
  const message = document.getElementById("puzzleMessage");
  const cards = container.querySelectorAll(".card");
  const emojis = ["‚ô•Ô∏è", "üçÄ", "‚≠ê"];
  let shuffled = shuffle([...emojis]);

  // ‡πÇ‡∏ä‡∏ß‡πå‡πÑ‡∏û‡πà‡∏Å‡πà‡∏≠‡∏ô
  shuffled.forEach((emoji, i) => {
    const card = cards[i];
    card.textContent = emoji;
    card.setAttribute("data-emoji", emoji);
    card.style.background = "#fff2f7";
    card.style.color = "#5e2b45";
    card.style.pointerEvents = "none";
    card.classList.remove("shake");
  });

  heartIndex = shuffled.findIndex(e => e === "‚ô•Ô∏è");
  cardsPicked = true;
  message.textContent = "‡∏à‡πâ‡∏≠‡∏á‡∏î‡∏µ‡πÜ ‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ö‡πÑ‡∏´‡∏ô~ üëÄ";

  // ‡∏´‡∏•‡∏±‡∏á 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏´‡πá‡∏ô
  setTimeout(() => {
    animateSlowShuffle(cards, () => {
      // ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí ‡∏û‡∏•‡∏¥‡∏Å‡∏´‡∏•‡∏±‡∏á
      cards.forEach(card => {
        card.textContent = "?";
        card.style.pointerEvents = "auto";
      });
      cardsPicked = false;
      message.textContent = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏•‡∏¢~ üíò";
    });
  }, 2000);
}

function pickCard(i) {
  if (cardsPicked) return;

  const container = document.getElementById("cardContainer");
  const message = document.getElementById("puzzleMessage");
  const cards = container.querySelectorAll(".card");
  const card = cards[i];
  const val = card.getAttribute("data-emoji");

  cardsPicked = true;

  if (val === "‚ô•Ô∏è") {
    card.textContent = val;
    card.style.background = "#d43f6f";
    card.style.color = "white";
    message.textContent = "üéâ ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡πÄ‡∏à‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß~ ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î‡∏Æ‡∏≤‡πÄ‡∏•‡∏¢!";
    unlockCategory("funny");
  } else {
    card.textContent = val;
    card.style.background = "#ff8ab8";
    card.classList.add("shake");
    message.textContent = "‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ô‡πâ‡∏≤~ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞ üí¶";
    message.classList.add("flashRed");
    setTimeout(() => message.classList.remove("flashRed"), 600);
  }

  // ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á
  cards.forEach((c, idx) => {
    const trueVal = c.getAttribute("data-emoji");
    if (trueVal === "‚ô•Ô∏è") {
      c.textContent = trueVal;
      c.style.background = "#d43f6f";
      c.style.color = "white";
    }
    c.style.pointerEvents = "none";
  });
}

// üëâ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏ä‡πâ‡∏≤ ‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà
function animateSlowShuffle(cards, callback) {
  const positions = [0, 1, 2];
  const swaps = [
    [0, 1],
    [1, 2],
    [0, 2]
  ];
  const steps = shuffle([...swaps, ...swaps]); // ‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏≠‡∏Å‡∏ï‡∏≤
  let stepIndex = 0;

  function doSwap() {
    if (stepIndex >= steps.length) {
      callback();
      return;
    }

    const [a, b] = steps[stepIndex];
    swapCards(cards[a], cards[b]);
    stepIndex++;
    setTimeout(doSwap, 700); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡πÉ‡∏´‡πâ‡∏à‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÑ‡∏î‡πâ
  }

  doSwap();
}

// üîÑ ‡∏™‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏û‡πà‡∏™‡∏≠‡∏á‡πÉ‡∏ö (‡∏£‡∏ß‡∏° data-emoji ‡∏î‡πâ‡∏ß‡∏¢)
function swapCards(cardA, cardB) {
  const rectA = cardA.getBoundingClientRect();
  const rectB = cardB.getBoundingClientRect();

  const dx = rectB.left - rectA.left;
  const dy = rectB.top - rectA.top;

  // ‡πÉ‡∏™‡πà style ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡∏¢‡∏±‡∏ö
  cardA.style.transition = "transform 0.5s ease";
  cardB.style.transition = "transform 0.5s ease";
  cardA.style.zIndex = "2";
  cardB.style.zIndex = "2";

  // ‡∏Ç‡∏¢‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÉ‡∏ö
  cardA.style.transform = `translate(${dx}px, ${dy}px)`;
  cardB.style.transform = `translate(${-dx}px, ${-dy}px)`;

  // ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏à‡∏ö ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á
  setTimeout(() => {
    // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
    cardA.style.transition = "";
    cardB.style.transition = "";
    cardA.style.transform = "";
    cardB.style.transform = "";

    // ‡∏™‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô
    const tempEmoji = cardA.getAttribute("data-emoji");
    cardA.setAttribute("data-emoji", cardB.getAttribute("data-emoji"));
    cardB.setAttribute("data-emoji", tempEmoji);

    const tempText = cardA.textContent;
    cardA.textContent = cardB.textContent;
    cardB.textContent = tempText;
  }, 500);
}


  // --- ‡πÄ‡∏Å‡∏°‡∏Å‡∏≤‡∏ä‡∏≤ ---
// üé∞ ‡πÄ‡∏Å‡∏°‡∏Å‡∏≤‡∏ä‡∏≤‡πÅ‡∏ö‡∏ö slot machine
function startGacha() {
  const resultDiv = document.getElementById("gachaResult");
  resultDiv.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°... üé∞";

  const emojis = ["‚≠ê", "üåü", "üí´", "‚ú®", "üå∏", "‚ù§Ô∏è", "üçÄ"];
  let spinCount = 0;
  const maxSpin = 15; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏∏‡∏ô (‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏¢‡∏≠‡∏∞‡∏¢‡∏¥‡πà‡∏á‡∏´‡∏°‡∏∏‡∏ô‡∏ô‡∏≤‡∏ô)

  const spinInterval = setInterval(() => {
    const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
    resultDiv.textContent = randomEmoji;
    spinCount++;

    if (spinCount >= maxSpin) {
      clearInterval(spinInterval);

      // ‡∏™‡∏∏‡πà‡∏°‡∏ú‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏•‡∏±‡∏á‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à
      const stars = Math.floor(Math.random() * 5) + 1; // 1-5 ‡∏î‡∏≤‡∏ß
      let starEmoji = "‚≠ê".repeat(stars);
      resultDiv.textContent = `‡πÑ‡∏î‡πâ ${stars} ‡∏î‡∏≤‡∏ß! ${starEmoji}`;

      if (stars === 5) {
        resultDiv.textContent += " üéâ ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î‡∏Å‡∏≤‡∏ä‡∏≤‡πÅ‡∏•‡πâ‡∏ß!";
        unlockCategory("gacha");
      }
    }
  }, 120); // ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏†‡∏≤‡∏û (ms)
}


  
  // --- ‡πÄ‡∏Å‡∏°‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à ---
function resetShootGame() {
  const heart = document.getElementById("heart");
  const hoop = document.getElementById("hoop");
  const shootMessage = document.getElementById("shootMessage");

  let score = 0;
  let isCharging = false;
  let chargeStartTime = 0;
  let isShooting = false;

  heart.style.transition = "none";
  heart.style.top = "220px";
  heart.style.left = "50%";
  shootMessage.textContent = "";

  // ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏¥‡∏á (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
  let shootBtn = document.getElementById("shootBtn");
  if (!shootBtn) {
    shootBtn = document.createElement("button");
    shootBtn.id = "shootBtn";
    shootBtn.textContent = "‚ù§Ô∏è ‡∏¢‡∏¥‡∏á!";
    shootBtn.style.marginTop = "12px";
    shootBtn.style.fontWeight = "bold";
    shootBtn.style.background = "#ff8ab8";
    shootBtn.style.boxShadow = "0 4px 10px rgba(255,182,193,0.5)";
    shootBtn.style.transition = "transform 0.2s ease";
    shootMessage.parentElement.insertBefore(shootBtn, shootMessage.nextSibling);
  }

  // Event: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≤‡∏£‡πå‡∏à
  shootBtn.onmousedown = () => {
    if (isShooting) return;
    isCharging = true;
    chargeStartTime = Date.now();
    shootBtn.style.transform = "scale(1.2)";
  };

  // Event: ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á
  shootBtn.onmouseup = () => {
    if (!isCharging || isShooting) return;
    isCharging = false;
    shootBtn.style.transform = "scale(1)";

    const holdTime = Date.now() - chargeStartTime;
    const power = Math.min(holdTime / 100, 12); // ‡πÅ‡∏£‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
    shootHeart(power);
  };

  // ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö touch ‡∏î‡πâ‡∏ß‡∏¢
  shootBtn.ontouchstart = (e) => {
    e.preventDefault();
    if (isShooting) return;
    isCharging = true;
    chargeStartTime = Date.now();
    shootBtn.style.transform = "scale(1.2)";
  };
  shootBtn.ontouchend = (e) => {
    e.preventDefault();
    if (!isCharging || isShooting) return;
    isCharging = false;
    shootBtn.style.transform = "scale(1)";

    const holdTime = Date.now() - chargeStartTime;
    const power = Math.min(holdTime / 100, 12);
    shootHeart(power);
  };

  function shootHeart(power) {
    isShooting = true;
    let velocityY = -power;
    let posY = parseFloat(heart.style.top);

    function animate() {
      posY += velocityY;
      velocityY += 0.3; // gravity

      heart.style.top = `${posY}px`;

      const heartBox = heart.getBoundingClientRect();
      const hoopBox = hoop.getBoundingClientRect();
      const dx = (heartBox.left + heartBox.width / 2) - (hoopBox.left + hoopBox.width / 2);
      const dy = (heartBox.top + heartBox.height / 2) - (hoopBox.top + hoopBox.height / 2);
      const dist = Math.sqrt(dx * dx + dy * dy);

      if (dist < 40) {
        score++;
        shootMessage.textContent = `‚úÖ ‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á‡πÅ‡∏•‡πâ‡∏ß! (${score}/5)`;
        if (score >= 5) {
          unlockCategory("love");
          shootMessage.textContent += " ‚ù§Ô∏è ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!";
        }
        resetHeart();
        isShooting = false;
        return;
      }

      if (posY > 300 || posY < -40) {
        shootMessage.textContent = "‚ùå ‡∏û‡∏•‡∏≤‡∏î! ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞";
        resetHeart();
        isShooting = false;
        return;
      }

      requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
  }

  function resetHeart() {
    heart.style.top = "220px";
  }

  // ‡∏Ç‡∏¢‡∏±‡∏ö‡∏´‡πà‡∏ß‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤
  hoop.style.left = "160px";
  let hoopDirection = 1;
  if (!resetShootGame.hoopInterval) {
    resetShootGame.hoopInterval = setInterval(() => {
      let left = parseFloat(hoop.style.left);
      if (isNaN(left)) left = 160;
      left += hoopDirection * 2;
      if (left > 220 || left < 100) hoopDirection *= -1;
      hoop.style.left = `${left}px`;
    }, 30);
  }
}



  // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î ---
  function unlockCategory(cat) {
    if (lockedCategories[cat]) {
      lockedCategories[cat] = false;
      alert(`üéâ ‡∏´‡∏°‡∏ß‡∏î '${cat}' ‡∏ñ‡∏π‡∏Å‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡πÅ‡∏•‡πâ‡∏ß! ‡πÑ‡∏õ‡∏î‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π!`);
      showPage("page2");
    }
  }

  // --- ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏° ---
  function backToGameMenu(currentGameId) {
    // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å
    if (currentGameId === "gameGuessNumber") {
      startGuessNumberGame();
    } else if (currentGameId === "gameCardShuffle") {
      resetCardGame();
    } else if (currentGameId === "gameShootHearts") {
      resetShootGame();
    }
    // clear gacha result
    if (currentGameId === "gameGacha") {
      document.getElementById("gachaResult").textContent = "";
    }
    showPage("page7");
  }



  // --- ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏° ---
  document.querySelectorAll("#gameMenuGrid .menu-card").forEach(card => {
    card.onclick = () => {
      const game = card.getAttribute("data-game");
      if (game === "guessNumber") {
        showPage("gameGuessNumber");
        startGuessNumberGame();
      } else if (game === "cardShuffle") {
        showPage("gameCardShuffle");
        resetCardGame();
      } else if (game === "gachaPull") {
        showPage("gameGacha");
      } else if (game === "shootHearts") {
        showPage("gameShootHearts");
        resetShootGame();
      }
    };
  });


</script>
</body>
</html>























