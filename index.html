 <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 1: ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç -->
  <div id="gameGuessNumber" class="hidden">
    <h2>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç (1-10)</h2>
    <p>‡∏•‡∏≠‡∏á‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏Ñ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏¥! üé≤</p>
    <input type="number" id="guessInput" min="1" max="10" />
    <div id="gameMessage"></div>
    <div class="buttons">
      <button onclick="checkGuess()">‡∏ó‡∏≤‡∏¢!</button>
      <button onclick="backToGameMenu('gameGuessNumber')">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 2: ‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à -->
  <div id="gameCardShuffle" class="hidden">
    <h2>‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à üÉè</h2>
    <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏û‡πà‡∏´‡∏≤‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏ô 3 ‡πÉ‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏à‡∏≠! ‚ô•Ô∏è</p>
    <div id="cardContainer" style="display:flex; justify-content:center; gap:20px; margin: 25px 0;">
      <div class="card" style="width:90px; height:120px; background:#ffe1e9; border-radius:16px; cursor:pointer; box-shadow: 0 0 15px #ffb6c1;" onclick="pickCard(0)">?</div>
      <div class="card" style="width:90px; height:120px; background:#ffe1e9; border-radius:16px; cursor:pointer; box-shadow: 0 0 15px #ffb6c1;" onclick="pickCard(1)">?</div>
      <div class="card" style="width:90px; height:120px; background:#ffe1e9; border-radius:16px; cursor:pointer; box-shadow: 0 0 15px #ffb6c1;" onclick="pickCard(2)">?</div>
    </div>
    <div id="puzzleMessage"></div>
    <div class="buttons">
      <button onclick="resetCardGame()">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
      <button onclick="backToGameMenu('gameCardShuffle')">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 3: ‡πÄ‡∏Å‡∏°‡∏Å‡∏≤‡∏ä‡∏≤ (‡∏™‡∏∏‡πà‡∏°) -->
  <div id="gameGacha" class="hidden">
    <h2>‡∏Å‡∏≤‡∏ä‡∏≤‡∏î‡∏≤‡∏ß 5 ‚≠ê</h2>
    <p>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏î‡∏≤‡∏ß ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©!</p>
    <button onclick="gachaPull()">‡∏Å‡∏î‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏¢!</button>
    <div id="gachaResult" style="margin-top: 20px; font-weight: bold; color: #d43f6f;"></div>
    <div class="buttons">
      <button onclick="backToGameMenu('gameGacha')">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 4: ‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á -->
  <div id="gameShootHearts" class="hidden">
    <h2>‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á üíò</h2>
    <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏´‡πà‡∏ß‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏´‡πâ‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ!</p>
    <div id="shootArea" style="position: relative; margin: 30px auto; width: 320px; height: 280px; background: #ffe4ef; border-radius: 25px; box-shadow: 0 0 15px #ffb6c1;">
      <div id="heart" style="position: absolute; width: 36px; height: 36px; background: #d43f6f; border-radius: 50%; box-shadow: 0 0 10px #ff8ab8; cursor: pointer;"></div>
      <div id="hoop" style="position: absolute; width: 60px; height: 60px; border: 4px solid #d43f6f; border-radius: 50%; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
    </div>
    <p id="shootMessage" style="margin-top: 18px; font-weight: bold; color: #d43f6f; min-height: 28px;"></p>
    <div class="buttons">
      <button onclick="resetShootGame()">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
      <button onclick="backToGameMenu('gameShootHearts')">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
    </div>
  </div>

  <!-- Lightbox ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏¢‡∏≤‡∏¢‡∏†‡∏≤‡∏û -->
  <div id="lightboxOverlay">
    <img id="lightboxImage" src="" alt="‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏π‡∏õ" />
  </div>

</div>

<script>
  // --- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ---
  const PASSWORD = "0000";

  // ‡∏£‡∏π‡∏õ‡∏™‡πÑ‡∏•‡∏î‡πå‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö
  const slides = [
    { src: "https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?auto=format&fit=crop&w=600&q=80", alt: "‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°" },
    { src: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80", alt: "‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå" },
    { src: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=600&q=80", alt: "‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°" },
    { src: "https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=600&q=80", alt: "‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô" },
  ];

  // ‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏ß‡∏î‡∏ï‡πà‡∏≤‡∏á ‡πÜ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
  const photos = {
    best: [
      "https://images.unsplash.com/photo-1517816743773-6e0fd518b4a6?auto=format&fit=crop&w=400&q=80",
      "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=400&q=80",
      "https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400&q=80",
    ],
    funny: [
      "https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=crop&w=400&q=80",
      "https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=crop&w=400&q=80",
    ],
    secret: [
      "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=400&q=80",
    ],
    love: [
      "https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400&q=80",
    ],
  };

  // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î
  const lockedCategories = {
    best: true,
    funny: true,
    secret: true,
    love: true,
  };

  // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ---
  function showPage(id) {
    // ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤
    document.querySelectorAll(".container > div").forEach(div => {
      div.classList.add("hidden");
    });
    // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
    const el = document.getElementById(id);
    if (el) el.classList.remove("hidden");

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô slide page1 ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡πÅ‡∏™‡∏î‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå‡πÅ‡∏•‡∏∞ progress bar
    if (id === "page1") {
      updateSlideShow();
    }

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô category page3-6 ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà
    if (id === "page3") loadPhotos("best", "bestGrid");
    if (id === "page4") loadPhotos("funny", "funnyGrid");
    if (id === "page5") loadPhotos("secret", "secretGrid");
    if (id === "page6") loadPhotos("love", "loveGrid");

    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π category ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏•‡πá‡∏≠‡∏Ñ
    if (id === "page2") updateCategoryLocks();
  }

  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
  function checkPassword() {
    const pw = document.getElementById("password").value;
    const err = document.getElementById("error");
    if (pw === PASSWORD) {
      showPage("page1");
      err.textContent = "";
    } else {
      err.textContent = "‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞!";
    }
  }

  // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÉ‡∏ô grid
  function loadPhotos(category, containerId) {
    const container = document.getElementById(containerId);
    container.innerHTML = "";
    if (lockedCategories[category]) {
      container.innerHTML = "<p>üîí ‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏•‡πá‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏π‡πà ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞!</p>";
      return;
    }
    photos[category].forEach((url, i) => {
      const img = document.createElement("img");
      img.src = url;
      img.alt = `${category} photo ${i+1}`;
      img.style.borderRadius = "18px";
      img.style.cursor = "pointer";
      img.style.width = "120px";
      img.style.height = "120px";
      img.style.objectFit = "cover";
      img.style.boxShadow = "0 0 15px #ffb6c1";
      img.onclick = () => openLightbox(url);
      container.appendChild(img);
    });
  }

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡πá‡∏≠‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏´‡∏°‡∏ß‡∏î‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π
  function updateCategoryLocks() {
    const cards = document.querySelectorAll("#categoryMenu .menu-card");
    cards.forEach(card => {
      const cat = card.getAttribute("data-category");
      if (!lockedCategories[cat]) {
        card.classList.remove("locked");
        card.querySelector("small").textContent = "üîì ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡πÅ‡∏•‡πâ‡∏ß";
        card.style.opacity = "1";
        card.style.cursor = "pointer";
        card.onclick = () => {
          // ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏±‡πâ‡∏ô
          if (cat === "best") showPage("page3");
          else if (cat === "funny") showPage("page4");
          else if (cat === "secret") showPage("page5");
          else if (cat === "love") showPage("page6");
        };
      } else {
        card.classList.add("locked");
        card.querySelector("small").textContent = "üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô";
        card.style.opacity = "0.5";
        card.style.cursor = "default";
        card.onclick = null;
      }
    });
  }

  // ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πÑ‡∏•‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå‡∏£‡∏π‡∏õ
  let currentSlideIndex = 0;
  const slideImages = document.querySelectorAll("#slideShow img");
  const slideCounter = document.getElementById("slideCounter");
  const progressBarInner = document.getElementById("progressBarInner");

  function updateSlideShow() {
    slideImages.forEach((img, i) => {
      img.classList.toggle("active", i === currentSlideIndex);
    });
    slideCounter.textContent = `‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà ${currentSlideIndex + 1} / ${slideImages.length}`;
    progressBarInner.style.width = `${((currentSlideIndex + 1) / slideImages.length) * 100}%`;
  }
  document.getElementById("prevBtn").onclick = () => {
    currentSlideIndex = (currentSlideIndex - 1 + slideImages.length) % slideImages.length;
    updateSlideShow();
  };
  document.getElementById("nextBtn").onclick = () => {
    currentSlideIndex = (currentSlideIndex + 1) % slideImages.length;
    updateSlideShow();
  };

  // ‡πÄ‡∏õ‡∏¥‡∏î lightbox
  function openLightbox(src) {
    const overlay = document.getElementById("lightboxOverlay");
    const img = document.getElementById("lightboxImage");
    img.src = src;
    overlay.style.display = "flex";
  }
  // ‡∏õ‡∏¥‡∏î lightbox
  document.getElementById("lightboxOverlay").onclick = () => {
    document.getElementById("lightboxOverlay").style.display = "none";
  };

  // --- ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç ---
  let targetNumber = null;

  function startGuessNumberGame() {
    targetNumber = Math.floor(Math.random() * 10) + 1;
    document.getElementById("gameMessage").textContent = "";
    document.getElementById("guessInput").value = "";
  }
  function checkGuess() {
    const input = document.getElementById("guessInput");
    const message = document.getElementById("gameMessage");
    const val = parseInt(input.value);
    if (!val || val < 1 || val > 10) {
      message.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç 1-10 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏∞!";
      return;
    }
    if (val === targetNumber) {
      message.textContent = "üéâ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î The Best ‡πÅ‡∏•‡πâ‡∏ß!";
      unlockCategory("best");
    } else {
      message.textContent = "‡∏ú‡∏¥‡∏î‡∏ô‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!";
      // ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô shake + ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏î‡∏á‡∏™‡∏•‡∏±‡∏ö
      input.classList.add("shake");
      message.classList.add("flashRed");
      setTimeout(() => {
        input.classList.remove("shake");
        message.classList.remove("flashRed");
      }, 700);
    }
  }

  // --- ‡πÄ‡∏Å‡∏°‡∏´‡∏≤‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à ---
  let heartIndex = null;
  let cardsPicked = false;
  function startCardGame() {
    heartIndex = Math.floor(Math.random() * 3);
    cardsPicked = false;
    const container = document.getElementById("cardContainer");
    container.querySelectorAll(".card").forEach(card => {
      card.textContent = "?";
      card.style.background = "#ffe1e9";
      card.style.color = "#5e2b45";
      card.style.pointerEvents = "auto";
      card.classList.remove("shake");
    });
    document.getElementById("puzzleMessage").textContent = "";
  }
  function pickCard(i) {
    if (cardsPicked) return;
    cardsPicked = true;
    const container = document.getElementById("cardContainer");
    const message = document.getElementById("puzzleMessage");
    const cards = container.querySelectorAll(".card");
    if (i === heartIndex) {
      cards[i].textContent = "‚ô•Ô∏è";
      cards[i].style.background = "#d43f6f";
      cards[i].style.color = "white";
      message.textContent = "üéâ ‡πÄ‡∏à‡∏≠‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à! ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î‡∏£‡∏π‡∏õ‡∏Æ‡∏≤‡πÅ‡∏•‡πâ‡∏ß!";
      unlockCategory("funny");
    } else {
      cards[i].textContent = "‚ùå";
      cards[i].style.background = "#ff8ab8";
      cards[i].classList.add("shake");
      message.textContent = "‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!";
      message.classList.add("flashRed");
      setTimeout(() => {
        message.classList.remove("flashRed");
      }, 600);
    }
    // ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏û‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
    cards[heartIndex].textContent = "‚ô•Ô∏è";
    cards[heartIndex].style.background = "#d43f6f";
    cards[heartIndex].style.color = "white";

    // ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    cards.forEach(card => card.style.pointerEvents = "none");
  }
  function resetCardGame() {
    startCardGame();
  }

  // --- ‡πÄ‡∏Å‡∏°‡∏Å‡∏≤‡∏ä‡∏≤ ---
  function gachaPull() {
    const results = [
      "‚≠ê 5 ‡∏î‡∏≤‡∏ß! ‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏≠‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß!",
      "‚≠ê 4 ‡∏î‡∏≤‡∏ß! ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ ‡∏£‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡πà‡∏∞",
      "‚≠ê 3 ‡∏î‡∏≤‡∏ß! ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà!",
    ];
    const pick = Math.random();
    let msg;
    if (pick < 0.3) {
      msg = results[0];
      unlockCategory("secret");
    } else if (pick < 0.6) {
      msg = results[1];
    } else {
      msg = results[2];
    }
    document.getElementById("gachaResult").textContent = msg;
  }

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° 4: ‡∏¢‡∏¥‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á -->
<div id="gameShootHeart" class="hidden">
  <h2>üíò ‡∏•‡∏≤‡∏Å‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏™‡πà‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏∞!</h2>
  <div id="shootGameArea" style="position: relative; width: 90vw; max-width: 500px; height: 400px; background: #fff5fa; border: 2px dashed pink; border-radius: 20px; margin: 20px auto; overflow: hidden;">
    <div id="hoopTarget" style="position: absolute; top: 20%; left: 50%; transform: translateX(-50%); width: 100px; height: 100px; border: 5px dashed #ff80b3; border-radius: 50%;"></div>
    <div id="dragHeart" draggable="true" style="width: 60px; height: 60px; background: red; border-radius: 50%; position: absolute; top: 80%; left: 50%; transform: translate(-50%, -50%); cursor: grab; transition: transform 0.3s ease;"></div>
  </div>
  <div id="shootMessage" style="font-size: 1.2em; margin-top: 20px;"></div>
</div>

<style>
  #dragHeart.shake {
    animation: shake 0.3s;
  }
  @keyframes shake {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    25% { transform: translate(-52%, -48%) rotate(-10deg); }
    50% { transform: translate(-50%, -50%) rotate(10deg); }
    75% { transform: translate(-48%, -52%) rotate(-10deg); }
    100% { transform: translate(-50%, -50%) rotate(0deg); }
  }
</style>

<script>
  const dragHeart = document.getElementById("dragHeart");
  const hoopTarget = document.getElementById("hoopTarget");
  const shootMessage = document.getElementById("shootMessage");

  dragHeart.addEventListener("dragstart", (e) => {
    e.dataTransfer.setData("text/plain", null);
  });

  document.getElementById("shootGameArea").addEventListener("dragover", (e) => {
    e.preventDefault();
  });

  document.getElementById("shootGameArea").addEventListener("drop", (e) => {
    e.preventDefault();
    const dropX = e.clientX;
    const dropY = e.clientY;

    const hoopRect = hoopTarget.getBoundingClientRect();
    const heartCenterX = dropX;
    const heartCenterY = dropY;

    const hoopCenterX = hoopRect.left + hoopRect.width / 2;
    const hoopCenterY = hoopRect.top + hoopRect.height / 2;
    const dx = heartCenterX - hoopCenterX;
    const dy = heartCenterY - hoopCenterY;
    const dist = Math.sqrt(dx * dx + dy * dy);

    if (dist < 50) {
      shootMessage.textContent = "üéØ ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏•‡∏á‡∏´‡πà‡∏ß‡∏á‡πÅ‡∏•‡πâ‡∏ß! ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏Å‡∏±‡∏ô!";
      dragHeart.style.display = "none";
      unlockCategory("love");
    } else {
      shootMessage.textContent = "‡∏û‡∏•‡∏≤‡∏î! ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏ô‡∏∞~";
      dragHeart.classList.add("shake");
      setTimeout(() => {
        dragHeart.classList.remove("shake");
      }, 400);
    }
  });

  // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏´‡∏°‡∏ß‡∏î ---
  function unlockCategory(cat) {
    if (lockedCategories[cat]) {
      lockedCategories[cat] = false;
      alert(`üéâ ‡∏´‡∏°‡∏ß‡∏î '${cat}' ‡∏ñ‡∏π‡∏Å‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡πÅ‡∏•‡πâ‡∏ß! ‡πÑ‡∏õ‡∏î‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π!`);
      showPage("page2");
    }
  }

  // --- ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏° ---
  function backToGameMenu(currentGameId) {
    // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å
    if (currentGameId === "gameGuessNumber") {
      startGuessNumberGame();
    } else if (currentGameId === "gameCardShuffle") {
      resetCardGame();
    } else if (currentGameId === "gameShootHearts") {
      resetShootGame();
    }
    // clear gacha result
    if (currentGameId === "gameGacha") {
      document.getElementById("gachaResult").textContent = "";
    }
    showPage("page7");
  }

  // --- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î ---
  startGuessNumberGame();
  startCardGame();
  resetShootGame();

  // --- ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏° ---
  document.querySelectorAll("#gameMenuGrid .menu-card").forEach(card => {
    card.onclick = () => {
      const game = card.getAttribute("data-game");
      if (game === "guessNumber") {
        showPage("gameGuessNumber");
        startGuessNumberGame();
      } else if (game === "cardShuffle") {
        showPage("gameCardShuffle");
        resetCardGame();
      } else if (game === "gachaPull") {
        showPage("gameGacha");
      } else if (game === "shootHearts") {
        showPage("gameShootHearts");
        resetShootGame();
      }
    };
  });

  // --- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à ---
  window.onload = () => {
    updateCategoryLocks();
    updateSlideShow();
  };
</script>
</body>
</html>
